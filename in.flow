# 2-d LJ flow simulation

dimension       3	
boundary	p p p

atom_style	atomic
neighbor	0.3 bin
neigh_modify	delay 10

# create geometry




lattice 	fcc 0.2
region		box block 0 20 0 20 0 100
region 	tube cylinder z 10 10 4 0 100
create_box	1 box
create_atoms	1 region tube

mass		1 1.0


# LJ potentials

pair_style	lj/cut 1.12246
pair_coeff	* * 1.0 1.0 1.12246

# define groups


group	     flow region tube 


# initial velocities


compute	     mobile flow temp
velocity     flow create 1.0 482748 temp mobile
#velocity     flow set 0.0 0.0 1.0 
fix	     1 all nve
fix	     2 flow temp/rescale 200 1.0 1.0 0.02 1.0
fix_modify   2 temp mobile
#fix 	     all flow setforce 0.0 0.0 NULL 




# Run

timestep	0.001
thermo		500
thermo_modify	temp mobile

dump		1 all atom 100 dump.flow



run		50000
